<!DOCTYPE html>
<html>
<head>
    <title>Advanced Fractal Art Generator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a1a;
            color: #fff;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #1a1a1a, #2d2d2d);
            z-index: -1;
        }

        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .background-animation div {
            position: absolute;
            border-radius: 50%;
            animation: float 15s infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0);
            }
            25% {
                transform: translateY(-100px) translateX(50px);
            }
            50% {
                transform: translateY(-50px) translateX(-50px);
            }
            75% {
                transform: translateY(100px) translateX(25px);
            }
        }

        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(45, 45, 45, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: containerFloat 3s ease-in-out infinite;
        }

        @keyframes containerFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        select, input {
            background: rgba(61, 61, 61, 0.8);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px;
            border-radius: 8px;
            width: 100%;
            margin: 5px 0;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }

        select:hover, input:hover {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
        }

        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
            width: 100%;
            margin: 5px 0;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        #saveBtn {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }

        #saveBtn:hover {
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        }

        canvas {
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            max-width: 100%;
            height: auto;
            background: #000;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }

        canvas:hover {
            transform: scale(1.01);
        }

        .label {
            font-size: 14px;
            margin-bottom: 5px;
            color: #ddd;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .progress {
            width: 100%;
            height: 20px;
            background: rgba(61, 61, 61, 0.5);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            transition: width 0.3s;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            animation: progressShine 1.5s linear infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(50%); }
        }

        h1 {
            text-align: center;
            color: #fff;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 0 0 10px rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="background-animation">
        <div style="background: #4CAF50; width: 100px; height: 100px; left: 10%; top: 20%;"></div>
        <div style="background: #2196F3; width: 150px; height: 150px; right: 20%; top: 10%;"></div>
        <div style="background: #9C27B0; width: 80px; height: 80px; left: 50%; bottom: 30%;"></div>
    </div>

    <div class="container">
        <h1>Fractal Art Generator</h1>
        <div class="controls">
            <div>
                <div class="label">Fractal Type:</div>
                <select id="fractalType">
                    <option value="mandelbrot">Mandelbrot Set</option>
                    <option value="julia">Julia Set</option>
                    <option value="burningShip">Burning Ship</option>
                    <option value="multibrot">Multibrot</option>
                    <option value="cubicMandelbrot">Cubic Mandelbrot</option>
                    <option value="cubicJulia">Cubic Julia</option>
                    <option value="sierpinski">Sierpinski Triangle</option>
                    <option value="dragonCurve">Dragon Curve</option>
                    <option value="hilbert">Hilbert Curve</option>
                    <option value="kochSnowflake">Koch Snowflake</option>
                </select>
            </div>
            <div>
                <div class="label">Color Scheme:</div>
                <select id="colorScheme">
                    <option value="rainbow">Rainbow</option>
                    <option value="blue">Blue</option>
                    <option value="greyscale">Greyscale</option>
                    <option value="sunset">Sunset</option>
                    <option value="ocean">Ocean</option>
                    <option value="forest">Forest</option>
                    <option value="fire">Fire</option>
                    <option value="earth">Earth</option>
                    <option value="pastel">Pastel</option>
                    <option value="electric">Electric</option>
                </select>
            </div>
            <div>
                <div class="label">Max Iterations:</div>
                <input type="number" id="maxIterations" value="100" min="1" max="1000">
            </div>
            <div>
                <div class="label">Zoom:</div>
                <input type="number" id="zoom" value="1" min="0.1" max="10" step="0.1">
            </div>
        </div>
        <button id="generateBtn">Generate Fractal</button>
        <button id="saveBtn">Save Image</button>
        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <canvas id="fractalCanvas" width="800" height="600"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('fractalCanvas');
        const ctx = canvas.getContext('2d');
        const progressBar = document.getElementById('progressBar');

        // Color scheme palettes
        const colorSchemes = {
            rainbow: (t) => `hsl(${t * 360}, 100%, 50%)`,
            blue: (t) => `rgb(0, 0, ${Math.floor(t * 255)})`,
            greyscale: (t) => {
                const v = Math.floor(t * 255);
                return `rgb(${v}, ${v}, ${v})`;
            },
            sunset: (t) => `rgb(${Math.floor(255 * t)}, ${Math.floor(100 * t)}, ${Math.floor(50 + 100 * t)})`,
            ocean: (t) => `rgb(${Math.floor(50 * t)}, ${Math.floor(100 + 155 * t)}, ${Math.floor(150 + 105 * t)})`,
            forest: (t) => `rgb(${Math.floor(50 * t)}, ${Math.floor(100 + 155 * t)}, ${Math.floor(50 * t)})`,
            fire: (t) => `rgb(${Math.floor(200 + 55 * t)}, ${Math.floor(100 * t)}, 0)`,
            earth: (t) => `rgb(${Math.floor(139 * t)}, ${Math.floor(69 * t)}, ${Math.floor(19 * t)})`,
            pastel: (t) => `hsl(${t * 360}, 70%, 80%)`,
            electric: (t) => `rgb(${Math.floor(200 * t)}, ${Math.floor(200 + 55 * Math.sin(t * Math.PI))}, ${Math.floor(255 * Math.cos(t * Math.PI))})`
        };

        // Mandelbrot Set
        function mandelbrot(x0, y0, maxIter) {
            let x = 0, y = 0;
            let iter = 0;
            while (x * x + y * y < 4 && iter < maxIter) {
                const xtemp = x * x - y * y + x0;
                y = 2 * x * y + y0;
                x = xtemp;
                iter++;
            }
            return iter;
        }

        // Julia Set
        function julia(x0, y0, maxIter) {
            let x = x0, y = y0;
            const cx = -0.4, cy = 0.6;
            let iter = 0;
            while (x * x + y * y < 4 && iter < maxIter) {
                const xtemp = x * x - y * y + cx;
                y = 2 * x * y + cy;
                x = xtemp;
                iter++;
            }
            return iter;
        }

        // Burning Ship
        function burningShip(x0, y0, maxIter) {
            let x = 0, y = 0;
            let iter = 0;
            while (x * x + y * y < 4 && iter < maxIter) {
                const xtemp = x * x - y * y + x0;
                y = Math.abs(2 * x * y) + y0;
                x = xtemp;
                iter++;
            }
            return iter;
        }

        // Multibrot
        function multibrot(x0, y0, maxIter) {
            let x = 0, y = 0;
            let iter = 0;
            const power = 3;
            while (x * x + y * y < 4 && iter < maxIter) {
                const r = Math.sqrt(x * x + y * y);
                const theta = Math.atan2(y, x);
                const xtemp = Math.pow(r, power) * Math.cos(power * theta) + x0;
                y = Math.pow(r, power) * Math.sin(power * theta) + y0;
                x = xtemp;
                iter++;
            }
            return iter;
        }

        // Cubic Mandelbrot
        function cubicMandelbrot(x0, y0, maxIter) {
            let x = 0, y = 0;
            let iter = 0;
            while (x * x + y * y < 4 && iter < maxIter) {
                const x2 = x * x - y * y;
                const y2 = 2 * x * y;
                const x3 = x2 * x - 3 * x * y * y;
                const y3 = 3 * x2 * y - y2 * y;
                x = x3 + x0;
                y = y3 + y0;
                iter++;
            }
            return iter;
        }

        // Cubic Julia
        function cubicJulia(x0, y0, maxIter) {
            let x = x0, y = y0;
            const cx = -0.1, cy = 0.65;
            let iter = 0;
            while (x * x + y * y < 4 && iter < maxIter) {
                const x2 = x * x - y * y;
                const y2 = 2 * x * y;
                const x3 = x2 * x - 3 * x * y * y;
                const y3 = 3 * x2 * y - y2 * y;
                x = x3 + cx;
                y = y3 + cy;
                iter++;
            }
            return iter;
        }

        // Sierpinski Triangle
        function sierpinski(x0, y0, maxIter) {
            const scale = 2;
            const x = (x0 + 2) * scale;
            const y = (y0 + 1.5) * scale;
            
            let iter = 0;
            while (iter < maxIter) {
                if ((Math.floor(x) & Math.floor(y)) !== 0) {
                    return iter;
                }
                iter++;
            }
            return maxIter;
        }

        // Dragon Curve
        function dragonCurve(x0, y0, maxIter) {
            let x = x0, y = y0;
            let iter = 0;
